<div *ngFor="let post of posts; let i = index" class="post">
  <div class="top-post">
    <img src="{{post?.author?.profilepic | profilepic:'true'}}" class="img-thumbnail profilepic">
    <b>{{ post.author.username }}</b><br>
    <span class="post-title">{{ post.title }}</span>
    <span class="post-time">{{ post.date | customdate }}</span>
  </div>
  <div class="post-content">
    <img *ngIf="!urlRegEx.test(post.media)" src="{{ post?.media }}" class="img-fluid post-pic">
    <div *ngIf="urlRegEx.test(post.media)" class="embed-responsive embed-responsive-16by9">
      <iframe class="embed-responsive-item" [src]="post.media | domseguro" allowfullscreen></iframe>
    </div>
    <!-- <span class="tag">#lifehack </span>
    <span class="tag">#break </span>
    <span class="tag">#garlicbread </span>
    <span class="tag">#easy</span> -->
    <p class="post-text">{{ post.text }}</p>

  </div>
  <div class="post-feedback">
    <i *ngIf="!isliked(i)" class="far fa-heart" (click)="likePost(i)"></i>
    <i *ngIf="isliked(i)" class="fas fa-heart" style="color:red" (click)="likePost(i)"></i> <span class="feedcount">{{ post.likes.length }}</span>
    <i class="far fa-comment"></i> <span class="feedcount">{{ post.comments.length }}</span>
  </div>
</div>
